<?php



namespace App\Http\Controllers;

use Illuminate\Http\Request;
use phpseclib\Net\SSH2;

class UserController extends Controller
{
    public function getHome()
    {
        return view('home');
    }

    public function skripta()
    {
        $host = '192.168.1.22';
        $username = 'root';
        $password = 'nikola'; 
        $command = 'python /root/PythonP/ping.py google.com';
       
        $ssh = new SSH2($host);
           if (!$ssh->login($username, $password)) {
               $output ='Login Failed';
           }
           else{
               $output = $ssh->exec($command);
        }
        return $output->json();
    }

    public function ping(Request $request)
    {
        $url = $request->url;
        $host = '192.168.1.22';
        $username = 'root';
        $password = 'nikola'; 
        $command = 'python /root/PythonP/ping.py ' . $url;
       // return $command;
       
        $ssh = new SSH2($host);
           if (!$ssh->login($username, $password)) {
               $output ='Login Failed';
           }
           else{
               $output = $ssh->exec($command);
        }
        return $output->json();
      //  return $request->url;
    }

    public function profi(Request $request)
    {
        $url = $request->url;
        $host = '192.168.1.22';
        $username = 'root';
        $password = 'nikola'; 
        $command = $request->cmd;

        $ssh = new SSH2($host);
           if (!$ssh->login($username, $password)) {
               $output ='Login Failed';
           }
           else{
               $output = $ssh->exec($cmd);
        }
        return $output->json();

    }


}
