<template>
    <div  id="allScans" >
        <tool-header>
            <h4>All Scans</h4>
        </tool-header>

        <v-client-table
        :data='table_data'
        :columns='columns'
        :options='options'
        >


        <a  slot="output" 
            slot-scope="props"
            :href="props.row.uri"
        >
           {{props.row.output}}
        </a>

        </v-client-table>

    </div>
</template>

<script>
import ToolHeader from '../comps_forEach_tool/ToolHeader.vue';

export default{
    components:{
        ToolHeader

    },
    mounted(){
        //preuzima se token za user? 
        this.user_token = localStorage.getItem("user");
    },
    data(){
        return{
            user_token:'',
            columns:[
                'date','scan','output'
            ],
            table_data:[
                {
                    'date':moment('11/2/2012').format('MM/DD/YYYY'),
                    'scan':'Lorem ipsum',
                    'output':'lorem.txt',
                    'uri': 'http://pentesting.boo/home'

                },
                {
                    'date':moment('12/2/2014').format('MM/DD/YYYY'),
                    'scan':'Dolor',
                    'output':'kril.txt',
                    'uri': 'http://pentesting.boo/home'
                },
                {
                    'date':moment('12/2/2013').format('MM/DD/YYYY'),
                    'scan':'Limspum',
                    'output':'sdl.txt',
                    'uri': 'http://pentesting.boo/home'
                }
            ],
            options:{

                sortable:['date'],
                filterable:['date','output'],
                dateColumns:['date'],
                filterByColumn:true,


                // sortIcon:
                // {
                //     up:'glyphicon-chevron-up',
                //     down:'glyphicon-chevron-down'

                // }


            /*
                populate tableData
            // requestFunction:(data)=>{
            //     let vm = this;
            //     return axios
            //             .get(`/scans/${user_token}`)
            //             .then((response)=>{
            //                 vm.tableData = response.data;
            //             })
            }*/

            

            }
        }
    
        
    }
} 



</script>

<style scoped>

</style>
