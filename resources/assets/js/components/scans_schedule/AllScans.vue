<template>
    <div  id="allScans" >
        <tool-header>
            <h4>All Scans</h4>
        </tool-header>

        <v-client-table
        :data='table_data'
        :columns='columns'
        :options='options'
        >

        <a  slot="output" 
            slot-scope="props"
            :href="props.row.uri"
        >
           {{props.row.output}}
        </a>

        </v-client-table>

    </div>
</template>

<script>
import ToolHeader from '../comps_forEach_tool/ToolHeader.vue';

//HACKS
import HardCodedData from '../../hardcode';

export default{
    components:{
        ToolHeader

    },
    mounted(){
        //preuzima se token za user? 
        this.user_token = localStorage.getItem("user");
    },
    data(){
        return{
            user_token:'',
            columns:[
                'date','scan','output'
            ],

            //HACKS CHANGE FOR PRODUCTION!
            table_data:HardCodedData,
            options:{
                columnsClasses:{
                    'date':'cursorable'
                },
                sortable:['date'],
                filterable:['date','output','scan'],
                dateColumns:['date'],
                filterByColumn:true,
                pagination:
                {
                    dropdown:true,
                    nav:'scroll'
                },
                dateFormat:'DD/MM/YYYY'
               

                //DEBUG
                
                //columnsDropdown:true


            /*
                populate tableData
            // requestFunction:(data)=>{
            //     let vm = this;
            //     return axios
            //             .get(`/scans/${user_token}`)
            //             .then((response)=>{
            //                 vm.tableData = response.data;
            //             })
            }*/

            

            }
        }
    
        
    }
} 



</script>

<style scoped>


/*deep select certain class*/
body >>> .dropdown-menu
{
    width: 13rem;


}

#allScans >>> .VueTables__date-filter-wrapper
{
    cursor: pointer;
    cursor: hand;
}
#allScans >>> .VueTables__sortable{
    cursor: pointer;
    cursor: hand;
}
#allScans >>> .VueTables__dropdown-pagination{
    display:block;
}
</style>
