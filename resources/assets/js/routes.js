

import VueRouter from 'vue-router';
import Tools from './tools';

let routes = [{
        name:'main',
        path: '/',
        children:[
        {
            path: 'all-scans',
            component: require('./components/scans_schedule/AllScans.vue').default
        },
        {
            path:'schedule',
            component: require('./components/scans_schedule/Schedule.vue').default
        }

    ],
        component: require('./components/Main').default
}]

//push into routes the relPaths from array of objects.. 
//forEach and push new object with name and path=relPath
//and component will have the same name...

for(let prop in Tools)
{
    let specificTools = Tools[prop];

    specificTools.forEach((tool)=>{
        routes[0].children.push({
            path: tool.relPath,
            component: require('./components/tools/'+tool.componentName).default
        })
    })

}


export default new VueRouter({
    routes,
    linkActiveClass: 'is-active'
});